<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Apple Bonus</title>
    <style>
        /* --- YOUR EXISTING CSS (unchanged) --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
        }
        body { background: #f5f5f7; min-height: 100vh; position: relative; overflow-x: hidden; color: #1f1f21; padding-top: 20px; }
        .page-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .reward-card { background: #ffffff; border-radius: 24px; padding: 1rem; position: relative; z-index: 2; backdrop-filter: blur(10px); border: 1px solid rgba(0,0,0,0.06); max-width: 450px; width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.06), 0 1px 8px rgba(0,0,0,0.04); animation: cardFloat 3s ease-in-out infinite; }
        @keyframes cardFloat { 0%, 100% { transform: translatey(0px); } 50% { transform: translatey(-10px); } }
        .app-logo-container { text-align: center; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(0,0,0,0.04); position: relative; }
        .app-logo { width: 100px; height: auto; filter: drop-shadow(0 4px 12px rgba(0,0,0,0.18)); animation: logoShine 3s infinite; display: block; margin: 0 auto; border-radius: 8px; }
        @keyframes logoShine { 0% { filter: drop-shadow(0 4px 12px rgba(0,0,0,0.18)); } 50% { filter: drop-shadow(0 8px 20px rgba(0,0,0,0.24)); } 100% { filter: drop-shadow(0 4px 12px rgba(0,0,0,0.18)); } }
        .cash-text { text-align: center; font-size: 1.8rem; font-weight: 800; margin-top: 0.5rem; color: #000000; text-shadow: 0 4px 20px rgba(0,0,0,0.06); }
        .amount { font-size: 2.2rem; font-weight: 700; text-align: center; color: #000000; margin: 0rem 0 0rem 0; text-shadow: 0 4px 20px rgba(0,0,0,0.06); animation: amountPulse 2s infinite; }
        @keyframes amountPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .amount-subtext { text-align: center; font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem; color: #1f1f21; text-shadow: 0 2px 10px rgba(0,0,0,0.04); }
        .instructions-container { margin: 1rem auto; padding: 1rem; background: rgba(0,0,0,0.03); border-radius: 16px; border: 1px solid rgba(0,0,0,0.04); }
        .instruction-item { display: flex; align-items: center; justify-content: center; gap: 12px; padding: 8px 0; font-size: 0.95rem; color: #2f3033; font-weight: 600; }
        .number { background: #000000; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.9rem; font-weight: 700; box-shadow: 0 2px 8px rgba(0,0,0,0.12); }
        .verd-logo { width: 150px; height: auto; display: block; margin: 0.5rem auto 0; }
        .instruction-item span { text-transform: capitalize; }
        .underline { text-decoration: underline; text-decoration-color: #000000; text-decoration-thickness: 2px; text-underline-offset: 2px; }
        .claim-button { background: #000000; color: #ffffff; border: none; padding: 1rem; border-radius: 20px; font-weight: 800; font-size: 1.1rem; width: 100%; max-width: 400px; cursor: pointer; margin: 1rem auto; display: block; box-shadow: 0 10px 30px rgba(0,0,0,0.12), 0 5px 15px rgba(0,0,0,0.08); transition: all 0.3s ease; }
        .claim-button:hover { transform: translatey(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.16), 0 8px 20px rgba(0,0,0,0.12); }
        .trust-badge { width: 100% !important; height: auto !important; margin-top: 0.5rem; border-radius: 12px; opacity: 0.95; transition: opacity 0.3s ease; }
        .trust-badge:hover { opacity: 1; }
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100%); background: rgba(255, 255, 255, 0.98); padding: 15px 20px; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 12px; font-size: 14px; color: #2f3033; z-index: 1000; backdrop-filter: blur(10px); border: 1px solid rgba(0,0,0,0.05); transition: transform 0.3s ease; max-width: 320px; width: calc(100% - 2rem); }
        .notification.show { transform: translateX(-50%) translateY(0); }
        #nameAlert { position: fixed; top: 10px; left: 50%; transform: translatex(-50%) translatey(0); background: rgba(255, 255, 255, 0.98); color: #2f3033; padding: 12px 20px; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.06); text-align: center; gap: 12px; font-size: 14px; font-weight: 500; z-index: 1000; width: calc(100% - 2rem); max-width: 320px; backdrop-filter: blur(10px); margin: 0 auto; border: 1px solid rgba(0,0,0,0.05); animation: slideDown 0.3s ease-out; display: none; }
    </style>

<!-- TikTok Pixel -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject = t;
  var ttq = w[t] = w[t] || [];
  ttq.methods = ["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],
  ttq.setAndDefer = function (t, e) { t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments,0))) } };
  for (var i = 0; i < ttq.methods.length; i++) ttq.setAndDefer(ttq, ttq.methods[i]);
  ttq.load = function (e, n) {
    var i = "https://analytics.tiktok.com/i18n/pixel/events.js";
    ttq._i = ttq._i || {},
    ttq._i[e] = [],
    ttq._i[e]._u = i,
    ttq._t = ttq._t || {},
    ttq._t[e] = +new Date,
    ttq._o = ttq._o || {},
    ttq._o[e] = n || {};
    var o = document.createElement("script");
    o.type = "text/javascript",
    o.async = !0,
    o.src = i + "?sdkid=" + e + "&lib=" + t;
    var a = document.getElementsByTagName("script")[0];
    a.parentNode.insertBefore(o, a)
  };
  ttq.load('D4M5GRRC77U10O2JF9J0');
  ttq.page();
}(window, document, 'ttq');
</script>

</head>
<body>

    <div id="particles-js" style="position:fixed;width:100%;height:100%;z-index:1"></div>

    <div class="page-container">
        <div class="reward-card">
            <div class="app-logo-container">
                <img alt="Test apps and get paid!" width="100" height="100" class="app-logo" src="images/applelogo.jpg">
                <div class="cash-text">Test apps and get paid!</div>
                <img alt="Verified" width="80" height="80" class="verd-logo" src="images/verd.png">
            </div>
            <div id="amount" class="amount">$1000</div>
            <div class="amount-subtext">deposited to you</div>

            <div class="instructions-container">
                <div class="instruction-item"><span class="number">1</span><span>Click the Button Below</span></div>
                <div class="instruction-item"><span class="number">2</span><span>Enter Your Email & Info</span></div>
                <div class="instruction-item"><span class="number">3</span><span class="underline">Complete Recommended Deals</span></div>
                <div class="instruction-item"><span class="number">4</span><span>Claim Reward & Repeat</span></div>
            </div>

            <button id="claimButton" class="claim-button">Get Your $1000 â†’</button>
            <img class="trust-badge" src="images/trus2.png">
        </div>
    </div>

<script src="js/particles.min.js"></script>

<script>

//////////////////////////////
// 1. AUTO CAPTURE SUBIDS
//////////////////////////////

function getQueryParams() {
    const url = new URL(window.location.href);
    return Object.fromEntries(url.searchParams.entries());
}

let SUBIDS = getQueryParams(); // s1,s2,s3,s4,s5,utm,custom,etc.


//////////////////////////////
// 2. GET TIKTOK CLICK ID
//////////////////////////////
let ttclid = SUBIDS.ttclid || "";


//////////////////////////////
// 3. APPEND SUBID FUNCTION
//////////////////////////////

function appendSubid(url) {
    const u = new URL(url);

    Object.keys(SUBIDS).forEach(key => {
        u.searchParams.set(key, SUBIDS[key]);
    });

    if (ttclid) {
        u.searchParams.set("ttclid", ttclid);
    }

    return u.toString();
}


//////////////////////////////
// EXISTING NOTIFICATIONS + COUNTER (unchanged)
//////////////////////////////

const NAMES = ['Ava R.','Ethan T.','Luna W.','Caleb R.','Aria K.','Julian P.'];
const notifications = [
    { icon: 'ðŸ”¥', title: 'Trending', text: 'Hot offer in your area' },
];

function animateValue(element, start, end, duration) {
    let startTimestamp = null;
    const step = (timestamp) => {
        if (!startTimestamp) startTimestamp = timestamp;
        const progress = Math.min((timestamp - startTimestamp) / duration, 1);
        const currentValue = Math.floor(progress * (end - start) + start);
        element.textContent = `$${currentValue.toFixed(2)}`;
        if (progress < 1) window.requestAnimationFrame(step);
    };
    window.requestAnimationFrame(step);
}

window.addEventListener('load', () => {
    const amountElement = document.getElementById('amount');
    const amountValue = parseInt(amountElement.textContent.replace(/\D/g,''));  
    animateValue(amountElement, 0, amountValue, 2000);
});


//////////////////////////////
// 4. FIRE TIKTOK LEAD EVENTS
//////////////////////////////

function fireTikTokLeadEvents() {
    try {
        ttq.track('Lead');          // Custom Lead
        ttq.track('SubmitForm');    // Standard Lead event
        console.log("TikTok Lead + SubmitForm fired");
    } catch(e) {
        console.log("TTQ ERROR:", e);
    }
}


//////////////////////////////
// 5. BUTTON CLICK HANDLER
//////////////////////////////

document.getElementById('claimButton').addEventListener('click', function () {

    fireTikTokLeadEvents(); // fire tracking

    const finalURL = appendSubid(
        "https://t.afftrackr.com/?oex3=JG1Y6Vp0LH%2bbjh3bjrn51TXGZpjGMHexvQJDRoz7h5U%3d&s1=21novr1"
    );

    window.location.href = finalURL; // instant redirect
});

</script>
</body>
</html>
